# Flutter åå°ç®¡ç†ç³»ç»Ÿ

ä¸€ä¸ªåŠŸèƒ½å®Œå–„çš„ Flutter æ¡Œé¢åå°ç®¡ç†ç³»ç»Ÿï¼Œæ”¯æŒä¸»é¢˜å®šåˆ¶ã€å¤šè¯­è¨€åˆ‡æ¢å’Œè·¨å¹³å°çª—å£æ§åˆ¶ã€‚

## åŠŸèƒ½ç‰¹æ€§

### âœ¨ æ ¸å¿ƒåŠŸèƒ½

1. **å¯æŠ˜å ä¾§è¾¹æ **
   - å±•å¼€å®½åº¦ï¼š220-260pxï¼ˆæ ¹æ®å°ºå¯¸è®¾ç½®ï¼‰
   - æŠ˜å å®½åº¦ï¼š64px
   - æ”¯æŒå¤šçº§èœå•å±•å¼€/æ”¶èµ·
   - æµç•…çš„åŠ¨ç”»è¿‡æ¸¡æ•ˆæœ

2. **ä¸»é¢˜ç³»ç»Ÿ**
   - ğŸŒ“ äº®è‰²/æš—é»‘æ¨¡å¼åˆ‡æ¢
   - ğŸ¨ 8ç§é¢„è®¾ä¸»é¢˜è‰²
   - ğŸ¨ è‡ªå®šä¹‰é¢œè‰²é€‰æ‹©å™¨ï¼ˆæ”¯æŒè‰²è½®ã€è°ƒè‰²æ¿ï¼‰
   - æ‰€æœ‰è®¾ç½®å®æ—¶ç”Ÿæ•ˆ

3. **å…¨å±€å°ºå¯¸æ§åˆ¶**
   - ç´§å‡‘æ¨¡å¼ï¼šé€‚åˆå°å±å¹•ï¼Œä¿¡æ¯å¯†åº¦é«˜
   - æ ‡å‡†æ¨¡å¼ï¼šé»˜è®¤è®¾ç½®ï¼Œå¹³è¡¡ä½“éªŒ
   - å®½æ¾æ¨¡å¼ï¼šå¤§å­—ä½“å¤§é—´è·ï¼Œæ˜“è¯»æ€§å¼º
   - å½±å“å­—ä½“ã€é—´è·ã€å›¾æ ‡ã€ç»„ä»¶å¤§å°

4. **å¤šè¯­è¨€æ”¯æŒ**
   - ğŸ‡¨ğŸ‡³ ç®€ä½“ä¸­æ–‡
   - ğŸ‡ºğŸ‡¸ English
   - ğŸ‡¹ğŸ‡¼ ç¹é«”ä¸­æ–‡
   - åˆ‡æ¢åç«‹å³ç”Ÿæ•ˆ

5. **è‡ªå®šä¹‰çª—å£æ§åˆ¶**
   - âœ… Windowsï¼šéšè—åŸç”Ÿæ ‡é¢˜æ ï¼Œè‡ªå®šä¹‰æœ€å°åŒ–/æœ€å¤§åŒ–/å…³é—­æŒ‰é’®
   - âœ… macOSï¼šé€æ˜æ ‡é¢˜æ ï¼Œä¿ç•™åŸç”Ÿäº¤é€šç¯æŒ‰é’®
   - âœ… Linuxï¼šéšè—åŸç”Ÿæ ‡é¢˜æ ï¼Œè‡ªå®šä¹‰çª—å£æ§åˆ¶
   - æ”¯æŒçª—å£æ‹–æ‹½ã€åŒå‡»æœ€å¤§åŒ–

6. **é¢åŒ…å±‘å¯¼èˆª**
   - è‡ªåŠ¨æ ¹æ®å½“å‰è·¯ç”±ç”Ÿæˆ
   - æ”¯æŒç‚¹å‡»è·³è½¬
   - å›¾æ ‡ + æ–‡å­—æ˜¾ç¤º

7. **æœ¬åœ°æŒä¹…åŒ–**
   - æ‰€æœ‰è®¾ç½®è‡ªåŠ¨ä¿å­˜åˆ°æœ¬åœ°
   - åº”ç”¨é‡å¯åæ¢å¤ä¸Šæ¬¡é…ç½®

## æŠ€æœ¯æ ˆ

- **Flutter**: ^3.10.0
- **çŠ¶æ€ç®¡ç†**: Provider ^6.1.2
- **æœ¬åœ°å­˜å‚¨**: SharedPreferences ^2.3.3
- **çª—å£ç®¡ç†**: WindowManager ^0.4.3
- **é¢œè‰²é€‰æ‹©å™¨**: FlexColorPicker ^3.6.0
- **å¤šè¯­è¨€**: flutter_localizations

## é¡¹ç›®ç»“æ„

```
lib/
â”œâ”€â”€ config/
â”‚   â””â”€â”€ theme_config.dart          # ä¸»é¢˜é…ç½®
â”œâ”€â”€ providers/
â”‚   â””â”€â”€ app_provider.dart          # å…¨å±€çŠ¶æ€ç®¡ç†
â”œâ”€â”€ utils/
â”‚   â””â”€â”€ storage_util.dart          # æœ¬åœ°å­˜å‚¨å·¥å…·
â”œâ”€â”€ widgets/
â”‚   â”œâ”€â”€ custom_title_bar.dart     # è‡ªå®šä¹‰æ ‡é¢˜æ 
â”‚   â”œâ”€â”€ collapsible_sidebar.dart  # å¯æŠ˜å ä¾§è¾¹æ 
â”‚   â”œâ”€â”€ top_bar.dart              # é¡¶éƒ¨æ 
â”‚   â”œâ”€â”€ breadcrumb.dart           # é¢åŒ…å±‘å¯¼èˆª
â”‚   â”œâ”€â”€ settings_panel.dart       # è®¾ç½®é¢æ¿
â”‚   â””â”€â”€ main_layout.dart          # ä¸»å¸ƒå±€æ¡†æ¶
â”œâ”€â”€ screens/
â”‚   â”œâ”€â”€ home_screen.dart          # é¦–é¡µ
â”‚   â”œâ”€â”€ users_screen.dart         # ç”¨æˆ·ç®¡ç†é¡µ
â”‚   â”œâ”€â”€ roles_screen.dart         # è§’è‰²ç®¡ç†é¡µ
â”‚   â””â”€â”€ settings_screen.dart      # è®¾ç½®é¡µ
â”œâ”€â”€ l10n/
â”‚   â”œâ”€â”€ app_zh.arb                # ç®€ä½“ä¸­æ–‡
â”‚   â”œâ”€â”€ app_en.arb                # è‹±æ–‡
â”‚   â””â”€â”€ app_zh_Hant.arb           # ç¹ä½“ä¸­æ–‡
â””â”€â”€ main.dart                      # åº”ç”¨å…¥å£
```

## å¿«é€Ÿå¼€å§‹

### å‰ç½®æ¡ä»¶

1. å®‰è£… Flutter SDK (>= 3.10.0)
2. Windows ç³»ç»Ÿéœ€å¼€å¯å¼€å‘è€…æ¨¡å¼ï¼ˆç”¨äºç¬¦å·é“¾æ¥æ”¯æŒï¼‰
   ```
   è¿è¡Œ: start ms-settings:developers
   ```

### å®‰è£…ä¾èµ–

```bash
cd d:\WorkBench\ldesign\tools\app
flutter pub get
```

### ç”Ÿæˆå¤šè¯­è¨€æ–‡ä»¶

```bash
flutter gen-l10n
```

### è¿è¡Œåº”ç”¨

```bash
# Windows
flutter run -d windows

# macOS
flutter run -d macos

# Linux
flutter run -d linux
```

### æ„å»ºå‘å¸ƒç‰ˆæœ¬

```bash
# Windows
flutter build windows --release

# macOS
flutter build macos --release

# Linux
flutter build linux --release
```

## ä½¿ç”¨è¯´æ˜

### 1. åˆ‡æ¢ä¸»é¢˜æ¨¡å¼

ç‚¹å‡»å³ä¸Šè§’è®¾ç½®æŒ‰é’® â†’ ä¸»é¢˜æ¨¡å¼ â†’ å¼€å…³åˆ‡æ¢äº®è‰²/æš—é»‘æ¨¡å¼

### 2. æ›´æ”¹ä¸»é¢˜è‰²

**æ–¹å¼ä¸€ï¼šé€‰æ‹©é¢„è®¾é¢œè‰²**
- è®¾ç½®é¢æ¿ â†’ ä¸»é¢˜è‰² â†’ ç‚¹å‡»ä»»ä¸€é¢„è®¾è‰²å—

**æ–¹å¼äºŒï¼šè‡ªå®šä¹‰é¢œè‰²**
- è®¾ç½®é¢æ¿ â†’ ä¸»é¢˜è‰² â†’ ç‚¹å‡»"è‡ªå®šä¹‰é¢œè‰²"
- ä½¿ç”¨è‰²è½®æˆ–è°ƒè‰²æ¿é€‰æ‹©å–œæ¬¢çš„é¢œè‰²

### 3. è°ƒæ•´å…¨å±€å°ºå¯¸

è®¾ç½®é¢æ¿ â†’ å…¨å±€å°ºå¯¸ â†’ é€‰æ‹©ç´§å‡‘/æ ‡å‡†/å®½æ¾

### 4. åˆ‡æ¢è¯­è¨€

è®¾ç½®é¢æ¿ â†’ è¯­è¨€ â†’ é€‰æ‹©ç®€ä½“ä¸­æ–‡/English/ç¹é«”ä¸­æ–‡

### 5. æŠ˜å /å±•å¼€ä¾§è¾¹æ 

- ç‚¹å‡»ä¾§è¾¹æ åº•éƒ¨çš„æŠ˜å æŒ‰é’®
- æˆ–ç‚¹å‡»é¡¶éƒ¨æ å·¦ä¾§çš„èœå•æŒ‰é’®

### 6. å¯¼èˆªé¡µé¢

- ç‚¹å‡»ä¾§è¾¹æ èœå•é¡¹
- æˆ–ç‚¹å‡»é¢åŒ…å±‘å¯¼èˆªè¿›è¡Œè·³è½¬

### 7. çª—å£æ§åˆ¶

- **æœ€å°åŒ–**ï¼šç‚¹å‡»æ ‡é¢˜æ å³ä¾§æœ€å°åŒ–æŒ‰é’®ï¼ˆWindows/Linuxï¼‰
- **æœ€å¤§åŒ–/è¿˜åŸ**ï¼šç‚¹å‡»æœ€å¤§åŒ–æŒ‰é’®æˆ–åŒå‡»æ ‡é¢˜æ 
- **å…³é—­**ï¼šç‚¹å‡»å…³é—­æŒ‰é’®
- **æ‹–æ‹½ç§»åŠ¨**ï¼šæŒ‰ä½æ ‡é¢˜æ ç©ºç™½åŒºåŸŸæ‹–åŠ¨

## è‡ªå®šä¹‰å¼€å‘

### æ·»åŠ æ–°é¡µé¢

1. åœ¨ `lib/screens/` åˆ›å»ºæ–°é¡µé¢æ–‡ä»¶ï¼š

```dart
import 'package:flutter/material.dart';
import 'package:flutter_gen/gen_l10n/app_localizations.dart';

class NewScreen extends StatelessWidget {
  const NewScreen({super.key});

  @override
  Widget build(BuildContext context) {
    final theme = Theme.of(context);
    final l10n = AppLocalizations.of(context)!;
    
    return Padding(
      padding: const EdgeInsets.all(24),
      child: Text('New Page Content'),
    );
  }
}
```

2. åœ¨ `lib/widgets/main_layout.dart` æ·»åŠ èœå•é¡¹ï¼š

```dart
MenuItem(
  id: 'new_page',
  titleKey: 'newPage',
  icon: Icons.new_releases,
  route: '/new-page',
),
```

3. åœ¨ `lib/main.dart` çš„ `AppNavigator` æ·»åŠ è·¯ç”±ï¼š

```dart
case '/new-page':
  screen = const NewScreen();
  break;
```

4. åœ¨å¤šè¯­è¨€æ–‡ä»¶ä¸­æ·»åŠ ç¿»è¯‘ï¼š

```json
// app_zh.arb
"newPage": "æ–°é¡µé¢"

// app_en.arb
"newPage": "New Page"

// app_zh_Hant.arb
"newPage": "æ–°é é¢"
```

### æ·»åŠ æ–°ä¸»é¢˜è‰²

åœ¨ `lib/config/theme_config.dart` çš„ `presetColors` ä¸­æ·»åŠ ï¼š

```dart
static const List<Color> presetColors = [
  Color(0xFF1976D2),  // è“è‰²
  Color(0xFF7B1FA2),  // ç´«è‰²
  // ... å…¶ä»–é¢œè‰²
  Color(0xFFYourColor), // ä½ çš„æ–°é¢œè‰²
];
```

### ä¿®æ”¹çª—å£é»˜è®¤å¤§å°

åœ¨ `lib/main.dart` çš„ `main()` å‡½æ•°ä¸­ä¿®æ”¹ï¼š

```dart
const windowOptions = WindowOptions(
  size: Size(1280, 800),        // é»˜è®¤å¤§å°
  minimumSize: Size(800, 600),  // æœ€å°å°ºå¯¸
  // ...
);
```

## å¹³å°è¯´æ˜

### Windows
- å®Œå…¨éšè—åŸç”Ÿæ ‡é¢˜æ 
- è‡ªå®šä¹‰çª—å£æ§åˆ¶æŒ‰é’®ï¼ˆæœ€å°åŒ–/æœ€å¤§åŒ–/å…³é—­ï¼‰
- æ”¯æŒ Aero Snapï¼ˆçª—å£è´´è¾¹åŠå±ï¼‰

### macOS
- ä½¿ç”¨é€æ˜æ ‡é¢˜æ 
- ä¿ç•™åŸç”Ÿçº¢ç»¿ç¯æŒ‰é’®ï¼ˆå·¦ä¸Šè§’ï¼‰
- è‡ªå®šä¹‰æ ‡é¢˜æ å·¦ä¾§ç•™å‡º70pxç©ºé—´

### Linux
- å®Œå…¨éšè—åŸç”Ÿæ ‡é¢˜æ 
- è‡ªå®šä¹‰çª—å£æ§åˆ¶æŒ‰é’®
- éœ€è¦çª—å£ç®¡ç†å™¨æ”¯æŒ

## æ³¨æ„äº‹é¡¹

1. **é¦–æ¬¡è¿è¡Œå¯èƒ½è¾ƒæ…¢**ï¼šFlutter éœ€è¦ç¼–è¯‘åŸç”Ÿä»£ç 
2. **Windows å¼€å‘è€…æ¨¡å¼**ï¼šéœ€å¯ç”¨ä»¥æ”¯æŒç¬¦å·é“¾æ¥
3. **macOS ç­¾å**ï¼šå‘å¸ƒæ—¶éœ€è¦ Apple å¼€å‘è€…è´¦å·ç­¾å
4. **Linux ä¾èµ–**ï¼šå¯èƒ½éœ€è¦å®‰è£…é¢å¤–ç³»ç»Ÿåº“

## æ•…éšœæ’é™¤

### é—®é¢˜ï¼šä¾èµ–å†²çª

```bash
flutter pub upgrade
flutter clean
flutter pub get
```

### é—®é¢˜ï¼šå¤šè¯­è¨€æœªç”Ÿæ•ˆ

```bash
flutter gen-l10n
flutter clean
flutter run
```

### é—®é¢˜ï¼šçª—å£æ§åˆ¶å¤±æ•ˆ

æ£€æŸ¥å¹³å°ä»£ç æ˜¯å¦æ­£ç¡®åˆå§‹åŒ– window_managerï¼š

```dart
await windowManager.ensureInitialized();
```

## å¼€å‘è·¯çº¿å›¾

- [ ] æ”¯æŒè‡ªå®šä¹‰èœå•é…ç½®
- [ ] æ·»åŠ å…¨å±€æœç´¢åŠŸèƒ½
- [ ] æ”¯æŒæ ‡ç­¾é¡µæ¨¡å¼
- [ ] æ·»åŠ å…¨å±æ¨¡å¼
- [ ] æ”¯æŒä¸»é¢˜é¢„è§ˆ
- [ ] æ·»åŠ å¿«æ·é”®æ”¯æŒ

## è®¸å¯è¯

MIT License

---

**å¼€å‘è€…**: æ ¹æ®éœ€æ±‚å®šåˆ¶å¼€å‘
**æœ€åæ›´æ–°**: 2025-11-18
