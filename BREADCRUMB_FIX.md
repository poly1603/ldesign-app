# é¢åŒ…å±‘å¯¼èˆªä¿®å¤è¯´æ˜

## é—®é¢˜æè¿°

åœ¨ä¾èµ–ç®¡ç†é¡µé¢ï¼Œå­˜åœ¨ä¸¤ä¸ªå¯¼èˆªé—®é¢˜ï¼š

1. âŒ **é¢åŒ…å±‘ä¸æ˜¾ç¤º"ä¾èµ–ç®¡ç†"** - å¯¼èˆªè·¯å¾„ä¸å®Œæ•´
2. âŒ **é¡¹ç›®åç§°ä¸å¯ç‚¹å‡»** - æ— æ³•é€šè¿‡é¢åŒ…å±‘è¿”å›é¡¹ç›®è¯¦æƒ…
3. âŒ **ç‚¹å‡»è¿”å›ç›´æ¥å›é¦–é¡µ** - åº”è¯¥è¿”å›é¡¹ç›®è¯¦æƒ…é¡µ

## å·²ä¿®å¤çš„å†…å®¹

### 1. æ·»åŠ ä¾èµ–ç®¡ç†åˆ°é¢åŒ…å±‘ âœ…

**æ–‡ä»¶**: `lib/widgets/breadcrumb.dart`

åœ¨ action çš„ switch case ä¸­æ·»åŠ äº† `dependencies` åˆ†æ”¯ï¼š

```dart
case 'dependencies':
  actionLabel = 'ä¾èµ–ç®¡ç†';
  break;
```

**æ•ˆæœ**: é¢åŒ…å±‘ç°åœ¨æ˜¾ç¤ºå®Œæ•´è·¯å¾„
```
é¦–é¡µ > é¡¹ç›®ç®¡ç† > é¡¹ç›®åç§° > ä¾èµ–ç®¡ç†
```

### 2. ä½¿é¡¹ç›®åç§°å¯ç‚¹å‡» âœ…

**æ–‡ä»¶**: `lib/widgets/breadcrumb.dart`

ä¿®æ”¹é¡¹ç›®åç§°çš„ route å±æ€§ï¼š

```dart
// ä¿®æ”¹å‰
items.add(BreadcrumbItem(
  label: project.name,
  route: null, // ä¸å¯ç‚¹å‡»
));

// ä¿®æ”¹å
items.add(BreadcrumbItem(
  label: project.name,
  route: '/project/$projectId', // å¯ç‚¹å‡»è¿”å›é¡¹ç›®è¯¦æƒ…
));
```

**æ•ˆæœ**: ç‚¹å‡»é¡¹ç›®åç§°ä¼šè¿”å›é¡¹ç›®è¯¦æƒ…é¡µ

### 3. æ”¯æŒ /project/{id} è·¯ç”± âœ…

**æ–‡ä»¶**: `lib/main.dart`

æ·»åŠ å¯¹ `/project/{id}` è·¯ç”±çš„æ”¯æŒï¼š

```dart
if (currentRoute.startsWith('/project/')) {
  final parts = currentRoute.split('/');
  if (parts.length >= 4) {
    // é¡¹ç›®æ“ä½œ: /project/{id}/{action}
    final projectId = parts[2];
    final action = parts[3];
    if (action == 'dependencies') {
      screen = DependencyManagementScreen(projectId: projectId);
    } else {
      screen = ProjectActionScreen(projectId: projectId, action: action);
    }
  } else if (parts.length == 3 && parts[2].isNotEmpty) {
    // é¡¹ç›®è¯¦æƒ…: /project/{id}  ğŸ‘ˆ æ–°å¢
    final projectId = parts[2];
    screen = ProjectDetailScreen(projectId: projectId);
  }
}
```

**æ•ˆæœ**: ç³»ç»Ÿæ­£ç¡®å¤„ç†é¡¹ç›®è¯¦æƒ…è·¯ç”±

## å¯¼èˆªå±‚çº§ç»“æ„

### å®Œæ•´çš„å¯¼èˆªè·¯å¾„

```
é¦–é¡µ (/)
â””â”€â”€ é¡¹ç›®ç®¡ç† (/projects)
    â””â”€â”€ é¡¹ç›®åç§° (/project/{id})
        â””â”€â”€ ä¾èµ–ç®¡ç† (/project/{id}/dependencies)
```

### é¢åŒ…å±‘è¡Œä¸º

| ä½ç½® | é¢åŒ…å±‘æ˜¾ç¤º | å¯ç‚¹å‡»é¡¹ |
|------|-----------|---------|
| é¦–é¡µ | é¦–é¡µ | - |
| é¡¹ç›®åˆ—è¡¨ | é¦–é¡µ > é¡¹ç›®ç®¡ç† | é¦–é¡µ |
| é¡¹ç›®è¯¦æƒ… | é¦–é¡µ > é¡¹ç›®ç®¡ç† > é¡¹ç›®å | é¦–é¡µ, é¡¹ç›®ç®¡ç† |
| ä¾èµ–ç®¡ç† | é¦–é¡µ > é¡¹ç›®ç®¡ç† > é¡¹ç›®å > ä¾èµ–ç®¡ç† | é¦–é¡µ, é¡¹ç›®ç®¡ç†, é¡¹ç›®å |

## ä½¿ç”¨æ–¹å¼

### ä»ä¾èµ–ç®¡ç†è¿”å›é¡¹ç›®è¯¦æƒ…

ç°åœ¨æœ‰ä¸‰ç§æ–¹å¼ï¼š

1. **ç‚¹å‡»é¢åŒ…å±‘ä¸­çš„é¡¹ç›®åç§°** âœ… æ¨è
2. **ç‚¹å‡»å·¦ä¸Šè§’è¿”å›æŒ‰é’® (â†)** âœ… 
3. **ç‚¹å‡»é¢åŒ…å±‘ä¸­çš„"é¡¹ç›®ç®¡ç†"** - ä¼šè¿”å›é¡¹ç›®åˆ—è¡¨

### é¢åŒ…å±‘å¯¼èˆªç¤ºä¾‹

å‡è®¾ä½ åœ¨ "@ldesign/app-vue" é¡¹ç›®çš„ä¾èµ–ç®¡ç†é¡µé¢ï¼š

```
é¦–é¡µ  >  é¡¹ç›®ç®¡ç†  >  @ldesign/app-vue  >  ä¾èµ–ç®¡ç†
 â†“        â†“              â†“                  (å½“å‰é¡µ)
 /    /projects    /project/abc123
```

- ç‚¹å‡» "é¦–é¡µ" â†’ è¿”å›é¦–é¡µ
- ç‚¹å‡» "é¡¹ç›®ç®¡ç†" â†’ è¿”å›é¡¹ç›®åˆ—è¡¨
- ç‚¹å‡» "@ldesign/app-vue" â†’ **è¿”å›é¡¹ç›®è¯¦æƒ…é¡µ** âœ…
- "ä¾èµ–ç®¡ç†" - å½“å‰é¡µï¼Œä¸å¯ç‚¹å‡»

## æŠ€æœ¯ç»†èŠ‚

### è·¯ç”±æ¨¡å¼

åº”ç”¨ç°åœ¨æ”¯æŒä»¥ä¸‹è·¯ç”±æ¨¡å¼ï¼š

1. `/project/{id}` - é¡¹ç›®è¯¦æƒ…é¡µ
2. `/project/{id}/start` - å¯åŠ¨é¡¹ç›®
3. `/project/{id}/build` - æ„å»ºé¡¹ç›®
4. `/project/{id}/preview` - é¢„è§ˆé¡¹ç›®
5. `/project/{id}/deploy` - éƒ¨ç½²é¡¹ç›®
6. `/project/{id}/publish` - å‘å¸ƒé¡¹ç›®
7. `/project/{id}/test` - æµ‹è¯•é¡¹ç›®
8. `/project/{id}/dependencies` - **ä¾èµ–ç®¡ç†** âœ…

### è·¯ç”±å¤„ç†ä¼˜å…ˆçº§

```dart
1. æ£€æŸ¥ç²¾ç¡®åŒ¹é… (å¦‚ '/projects', '/settings')
2. æ£€æŸ¥é¡¹ç›®è·¯ç”±
   a. 4æ®µè·¯å¾„: /project/{id}/{action}
   b. 3æ®µè·¯å¾„: /project/{id}
3. é»˜è®¤: è¿”å›é¦–é¡µ
```

## æµ‹è¯•æ¸…å•

- [x] ä¾èµ–ç®¡ç†é¡µé¢æ˜¾ç¤ºå®Œæ•´é¢åŒ…å±‘
- [x] é¢åŒ…å±‘æ˜¾ç¤º"ä¾èµ–ç®¡ç†"
- [x] é¡¹ç›®åç§°å¯ä»¥ç‚¹å‡»
- [x] ç‚¹å‡»é¡¹ç›®åç§°è¿”å›é¡¹ç›®è¯¦æƒ…ï¼ˆä¸æ˜¯é¦–é¡µï¼‰
- [x] è¿”å›æŒ‰é’®æ­£å¸¸å·¥ä½œ
- [x] ä¸å½±å“å…¶ä»–é¡µé¢çš„é¢åŒ…å±‘å¯¼èˆª

## ç›¸å…³æ–‡ä»¶

| æ–‡ä»¶ | ä¿®æ”¹å†…å®¹ |
|------|---------|
| `lib/widgets/breadcrumb.dart` | æ·»åŠ  dependencies caseï¼Œä½¿é¡¹ç›®åå¯ç‚¹å‡» |
| `lib/main.dart` | æ·»åŠ  /project/{id} è·¯ç”±æ”¯æŒ |
| `lib/screens/dependency_management_screen.dart` | æ— éœ€ä¿®æ”¹ï¼ˆå·²æœ‰æ­£ç¡®çš„è¿”å›æŒ‰é’®ï¼‰ |

## å…¼å®¹æ€§

- âœ… ä¸å½±å“ç°æœ‰è·¯ç”±
- âœ… å‘åå…¼å®¹
- âœ… ä¸ç ´åå…¶ä»–é¡µé¢å¯¼èˆª
- âœ… æ”¯æŒæ‰€æœ‰é¡¹ç›®ç±»å‹

---

**ä¿®å¤å®Œæˆï¼ç°åœ¨é¢åŒ…å±‘å¯¼èˆªå®Œå…¨æ­£å¸¸å·¥ä½œã€‚** ğŸ‰
